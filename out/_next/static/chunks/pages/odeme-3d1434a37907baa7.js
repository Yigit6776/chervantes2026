(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[376],{3122:(e,a,s)=>{"use strict";s.d(a,{A:()=>j});var l=s(7876),t=s(4250),r=s.n(t),d=s(4232),n=s(8230),i=s.n(n),c=s(7328),o=s.n(c),m=s(451),x=s(2009),h=s(1939),b=s(4192);let j=()=>{let[e,a]=(0,d.useState)([]),[s,t]=(0,d.useState)(!0),{sepet:n}=(0,h.V)(),{currentUser:c}=(0,b.A)();return(0,d.useEffect)(()=>{(async()=>{try{let e=await (0,x.GG)((0,x.rJ)(m.db,"Kategoriler"));if(!e.empty){let s=e.docs.map(e=>({id:e.id,kategoriAdi:e.data().KategoriAdi}));a(s)}}catch(e){console.error("Firestore hata:",e)}t(!1)})()},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o(),{children:(0,l.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css",className:"jsx-e10683cd875b6154"})}),(0,l.jsx)("nav",{className:"jsx-e10683cd875b6154 navbar navbar-expand-lg navbar-light bg-light fixed-top",children:(0,l.jsxs)("div",{className:"jsx-e10683cd875b6154 container",children:[(0,l.jsx)(i(),{href:"/",legacyBehavior:!0,children:(0,l.jsx)("a",{className:"jsx-e10683cd875b6154 navbar-brand",children:"Chervantes"})}),(0,l.jsx)("button",{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",className:"jsx-e10683cd875b6154 navbar-toggler",children:(0,l.jsx)("span",{className:"jsx-e10683cd875b6154 navbar-toggler-icon"})}),(0,l.jsxs)("div",{id:"navbarNav",className:"jsx-e10683cd875b6154 collapse navbar-collapse",children:[(0,l.jsxs)("ul",{className:"jsx-e10683cd875b6154 navbar-nav",children:[(0,l.jsxs)("li",{className:"jsx-e10683cd875b6154 nav-item dropdown",children:[(0,l.jsx)("a",{href:"#",id:"kategoriMenu",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",className:"jsx-e10683cd875b6154 nav-link dropdown-toggle text-dark",children:"Kategoriler"}),(0,l.jsxs)("ul",{"aria-labelledby":"kategoriMenu",className:"jsx-e10683cd875b6154 dropdown-menu",children:[s&&(0,l.jsx)("li",{className:"jsx-e10683cd875b6154",children:(0,l.jsx)("span",{className:"jsx-e10683cd875b6154 dropdown-item",children:"Y\xfckleniyor..."})}),!s&&e.map(e=>(0,l.jsx)("li",{className:"jsx-e10683cd875b6154",children:(0,l.jsx)(i(),{href:"/kategori/".concat(e.id),legacyBehavior:!0,children:(0,l.jsx)("a",{className:"jsx-e10683cd875b6154 dropdown-item",children:e.kategoriAdi})})},e.id))]})]}),(0,l.jsx)("li",{className:"jsx-e10683cd875b6154 nav-item",children:(0,l.jsx)(i(),{href:"/about",legacyBehavior:!0,children:(0,l.jsx)("a",{className:"jsx-e10683cd875b6154 nav-link",children:"Hakkımızda"})})})]}),(0,l.jsxs)("div",{className:"jsx-e10683cd875b6154 ms-auto d-flex align-items-center",children:[(0,l.jsx)(i(),{href:"/sepet",legacyBehavior:!0,children:(0,l.jsxs)("button",{className:"jsx-e10683cd875b6154 nav-link position-relative me-3",children:["Sepetim",n.length>0&&(0,l.jsx)("span",{className:"jsx-e10683cd875b6154 position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:n.length})]})}),c?(0,l.jsx)(i(),{href:"/profil",legacyBehavior:!0,children:(0,l.jsx)("button",{className:"jsx-e10683cd875b6154 nav-link",children:"Profilim"})}):(0,l.jsx)(i(),{href:"/uyegiris",legacyBehavior:!0,children:(0,l.jsx)("button",{className:"jsx-e10683cd875b6154 nav-link",children:"\xdcye Ol"})})]})]})]})}),(0,l.jsx)("div",{style:{marginTop:"80px"},className:"jsx-e10683cd875b6154"}),(0,l.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js",async:!0,className:"jsx-e10683cd875b6154"}),(0,l.jsx)(r(),{id:"e10683cd875b6154",children:".navbar{width:100%;position:fixed;top:0;left:0;z-index:1000}.container{max-width:1200px;margin:0 auto}"})]})}},3815:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var l=s(7876),t=s(4232),r=s(1939),d=s(3122),n=s(451),i=s(2009);async function c(){let e;let a=(0,i.H9)(n.db,"counters","orders");return await (0,i.c4)(n.db,async s=>{let l=await s.get(a);if(l.exists()){let{lastOrder:t}=l.data();e=t+1,s.update(a,{lastOrder:e})}else s.set(a,{lastOrder:1}),e=1}),e}function o(){let{sepet:e}=(0,r.V)(),[a,s]=(0,t.useState)({adSoyad:"",email:"",telefon:"",il:"",ilce:"",mahalle:"",adresDetay:"",postaKodu:""}),[o,m]=(0,t.useState)([]);(0,t.useEffect)(()=>{m(e)},[e]);let x=e=>{s({...a,[e.target.name]:e.target.value})},h=async e=>{e.preventDefault();try{let e=o.reduce((e,a)=>e+Number(a.fiyat)*(a.adet||1),0),s=await c(),l=String(s).padStart(4,"0"),t={orderNumber:"sparis".concat(l),sepet:o,toplamTutar:e,formData:a,createdAt:(0,i.O5)()},r=(0,i.H9)(n.db,"Sparisler",l);await (0,i.BN)(r,t),alert("Sipariş başarıyla oluşturuldu. Numaranız: ".concat(l))}catch(e){console.error("Sipariş kaydı hatası:",e),alert("Sipariş kaydı yapılamadı!")}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.A,{}),(0,l.jsx)("div",{className:"container mt-5",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsx)("h3",{children:"Adres Bilgileri"}),(0,l.jsxs)("form",{className:"row g-3",onSubmit:h,children:[[["Ad Soyad","adSoyad"],["E-Posta","email"],["Telefon","telefon"],["İl","il"],["İl\xe7e","ilce"],["Mahalle","mahalle"],["Posta Kodu","postaKodu"],["Adres Detayı","adresDetay"]].map((e,a)=>{let[s,t]=e;return(0,l.jsxs)("div",{className:a<6?"col-md-6":"col-12",children:[(0,l.jsx)("label",{className:"form-label",children:s}),(0,l.jsx)("input",{name:t,className:"form-control",onChange:x,required:"postaKodu"!==t})]},t)}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsx)("button",{className:"btn btn-success w-100",type:"submit",children:"\xd6deme Yap"})})]})]}),(0,l.jsx)("div",{className:"col-md-6 d-flex flex-column justify-content-center align-items-center",children:(0,l.jsx)("p",{className:"text-muted",children:"Kart \xf6deme formu (placeholder) \uD83D\uDCB3"})})]})})]})}},7852:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/odeme",function(){return s(3815)}])}},e=>{var a=a=>e(e.s=a);e.O(0,[230,751,636,593,792],()=>a(7852)),_N_E=e.O()}]);